{"version":"5","defaultTimeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-07-07T11:00:09.219Z"},"to":{"type":"expression","normalized":"now","date":"2023-07-14T11:00:09.219Z"}}},"sections":[{"id":"a5ccc628-7428-468f-8454-543025fb1665","type":"markdown","markdown":"# Problem Analysis","hasContent":true},{"id":"e507b491-3f25-49a1-9907-947cedb0c75c","type":"dql","title":"What kind of events can we query?","showTitle":false,"showInput":true,"state":{"input":{"value":"fetch events\n|filter event.kind==\"DAVIS_PROBLEM\"","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-03-29T21:06:40.724Z"},"to":{"type":"expression","normalized":"now","date":"2023-03-29T21:36:40.742Z"}}}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}}},{"id":"63e998ea-d7fb-4a42-aa59-2a79b919cc56","type":"markdown","markdown":"# Which types of issues happen most frequently?"},{"id":"430d7690-106c-499d-a499-5c05a2771f02","type":"dql","showTitle":true,"title":"Problem by Category","state":{"input":{"timeframe":{"from":"now-2h","to":"now"},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize count(), by:{event.category}"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"7c6d8582-dd60-4673-9b07-c3053da3cbdc","type":"dql","showTitle":true,"title":"Problem by Category","state":{"input":{"timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-07-07T10:50:42.743Z"},"to":{"type":"expression","normalized":"now","date":"2023-07-14T10:50:42.743Z"}}},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize count = count(), by:{event.name}\n| fieldsAdd event = event.name\n| fieldsKeep event, count\n| sort count desc"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"a46cf9a3-6c95-4e7d-ba6d-bcb7f1512213","type":"markdown","markdown":"# How long does it take us to resolve issues?"},{"id":"390417f8-9e6f-44da-a43f-6fdc897aced7","type":"dql","showTitle":true,"title":"Problem resolution Time","showInput":true,"state":{"input":{"timeframe":{"from":"now-2h","to":"now"},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize minutes_to_resolve=avg(toDouble(resolved_problem_duration)/60000), by:{bin(timestamp, 1m)}"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"e9f8f136-0d67-4366-8d82-011dcf12f7a6","type":"markdown","markdown":"# So which problem types take the longest to resolve?"},{"id":"3a65f85a-e032-45e0-991e-2b83b0c90e33","type":"dql","showTitle":true,"title":"Problem resolution time by event category","showInput":true,"state":{"input":{"timeframe":{"from":"now-2h","to":"now","details":{"from":{"type":"expression","normalized":"now-2h","date":"2023-03-29T19:50:01.051Z"},"to":{"type":"expression","normalized":"now","date":"2023-03-29T21:50:01.051Z"}}},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize minutes_to_resolve=avg(toDouble(resolved_problem_duration)/60000), by:{bin(timestamp, 1m), event.category}"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"186fa559-c8c8-4bdf-99c8-6e4f83a6c1ba","type":"markdown","markdown":"# Who needs to improve?\n- Performance Problems = Longest to resolve\n- Performance Problems = Most frequent problems"},{"id":"7520caa4-009a-4401-abc2-a750d97fb253","type":"markdown","markdown":"### HOSTS"},{"id":"17f1410f-23b4-4719-a5a8-572d7a28fcc2","type":"dql","showTitle":true,"title":"Most common performance root causes","state":{"input":{"timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-07-07T11:00:09.219Z"},"to":{"type":"expression","normalized":"now","date":"2023-07-14T11:00:09.219Z"}}},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter contains(root_cause_entity_id, \"HOST\")\n| summarize cnt= count(), by:{root_cause_entity_id}\n|lookup [fetch dt.entity.host], lookupField:id, sourceField:root_cause_entity_id\n| limit 10\n| fieldsRemove lookup.id\n| sort cnt desc"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"c2c1c849-3e3f-4609-b03c-c68e0ad28951","type":"markdown","markdown":"### SERVICES"},{"id":"2113277d-303b-4efd-bd1b-3b39a93b7517","type":"dql","showTitle":true,"title":"Most common performance root causes","state":{"input":{"timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-07-07T11:00:09.219Z"},"to":{"type":"expression","normalized":"now","date":"2023-07-14T11:00:09.219Z"}}},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter contains(root_cause_entity_id, \"SERVICE\")\n| summarize cnt= count(), by:{root_cause_entity_id}\n|lookup [fetch dt.entity.service], lookupField:id, sourceField:root_cause_entity_id\n| limit 10\n|fieldsAdd lookup.tags, lookup.serviceTechnologyTypes, loo\n| fieldsKeep  lookup.entity.name, cnt, root_cause_entity_id, lookup.tags, lookup.serviceTechnologyTypes\n| sort cnt desc"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}},{"id":"8c826888-a804-4494-ad66-a2eec56258c3","type":"markdown","markdown":"### PROCESS GROUPS"},{"id":"3d2cb9d5-dd2c-43c9-be93-e69848f283e2","type":"dql","showTitle":true,"title":"Most common performance root causes","state":{"input":{"timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-07-07T11:00:09.219Z"},"to":{"type":"expression","normalized":"now","date":"2023-07-14T11:00:09.219Z"}}},"value":"fetch events\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter contains(root_cause_entity_id, \"PROCESS_GROUP\")\n| summarize cnt= count(), by:{root_cause_entity_id}\n|lookup [fetch dt.entity.process_group], lookupField:id, sourceField:root_cause_entity_id\n| fieldsKeep  lookup.entity.name, cnt, root_cause_entity_id\n| limit 10\n| sort cnt desc"},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"showConsole":true,"davis":{"davisVisualization":{}}}}]}