<html>
    <head>
        <title>ruxit JavaScript API</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <link href="../global.css" rel="stylesheet" type="text/css">
        <script type="text/javascript" src="../global.js"></script>
        <script type="text/javascript">
            function markAsError() {
                if (typeof dtrum !== "undefined") {
                    var markedAsError = dtrum.markAsErrorPage(600, "my custom error");
                    if (markedAsError) {
                        showMessage("Successfully marked the load action with an error");
                    } else {
                        showMessage("Failed to mark the load action with an error");
                    }
                } else {
                    showMessage("load action has not been marked with an error, because the dtrum api is not available.");
                }
            }

            function showMessage(text) {
                $('#resultDiv').text(text);
            }
        </script>
    </head>
    <body onload="markAsError()">
        <div class="explanation">
            <h2>Mark a page load with an error</h2>
            <div class="field">
                <div class="fieldHeader"> Agentconfig</div>
                Needed agent module configuration: <div class="agentConf">no extra modules<div class="agentConfCheck"></div></div>
            </div>
            <p><a href='../../doc/interfaces/dtrum_types.dtrumapi.html#markaserrorpage' class='api-reference' target='_blank'>markAsErrorPage</a> reports the response code and an additional message for the current page to the server.
                This function needs to be called before the onload event has finished, otherwise the information will be discarded.</p>
            <p>Example: During the loading of the page, the load action will be marked with an error.</p>
        </div>
        <div class="field">
            <div class="fieldHeader"> Code snippet</div>
            <code-block>//called at onload
function markAsError() {
    var markedAsError = dtrum.markAsErrorPage(600, "my custom error");
}</code-block>
        </div>
        <div class="field example">
            <div class="fieldHeader"> Example</div>
            <p>Result:</p>
            <div id="resultDiv"></div>
        </div>
        <a class="backButton" href="../index.html"> &#x2B05; Back</a>
    </body>
</html>
