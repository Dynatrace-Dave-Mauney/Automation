<!DOCTYPE html>
    <html>
    <head>
        <title>ruxit JavaScript API</title>
        <link href="../global.css" rel="stylesheet" type="text/css">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script type="text/javascript" src="../global.js"></script>
        <script type="text/javascript">
            function customErrorAttachedToXHR() {
                $.ajax({
                    url: "../ajax.jsp",
                    complete: function(data, textStatus, jqXHR) {
                        dtrum.reportCustomError('XHR Error','After XHR some custom test error occurred.', null, true);
                        document.getElementById('xhrActionResponse').innerHTML = data.responseText;
                    }
                });
            }

            function customErrorAsRootAction() {
                dtrum.reportCustomError('Some Error','Custom test error occurred as RootAction.', null, false);
                document.getElementById('standaloneResponse').innerHTML = 'customError as RootAction created!';
            }
        </script>
    </head>
    <body>
        <div class="explanation">
            <h2>Report a custom error</h2>
            <div class="field">
                <div class="fieldHeader"> Agentconfig</div>
                Needed agent module configuration: <div class="agentConf">no extra modules<div class="agentConfCheck"></div></div>
            </div>
            <p>With <a href='../../doc/interfaces/dtrum_types.dtrumapi.html#reportcustomerror' class='api-reference' target='_blank'>reportCustomError</a> custom errors can be reported.</p>
        </div>
        <div class="field">
            <div class="fieldHeader"> Code snippet</div>
            <code-block>//xhr callback (custom Error will get attached to XHR action)
complete: function(data, textStatus, jqXHR) {
    dtrum.reportCustomError('XHR Error','After XHR some custom test error occurred.', null, true);
}

//report customError as root
dtrum.reportCustomError('Some Error','Custom test error occurred as RootAction.', null, false);</code-block>
        </div>
        <div class="field example">
            <div class="fieldHeader"> Example</div>
            <input type="button" value="Create customError attached to an XHR action" id="xhrButton" onclick="customErrorAttachedToXHR()" />
            <div id="xhrActionResponse"></div>
            <br>
            <input type="button" value="Create customError as root action" id="standaloneButton" onclick="customErrorAsRootAction()" />
            <div id="standaloneResponse"></div>
        </div>
        <a class="backButton" href="../index.html"> &#x2B05; Back</a>
    </body>
</html>
